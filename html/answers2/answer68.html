<HTML><HEAD><TITLE>Answer to Exercise 68</TITLE></HEAD>
<BODY BGCOLOR="#FFFFFF">
<TABLE><TR><TD Valign="top"><IMG SRC="../icons/exercise.gif" ALT="??"><TD bgcolor="#FAA89B"><B>ANSWER TO EXERCISE 68</B><TR><TD><TD>
<P>

<PRE>
Constant MAX_FOOTNOTES 10;
Array footnotes_seen -&#62; MAX_FOOTNOTES;
Global footnote_count;
[ Note n i pn;
    for (i=0:i&#60;footnote_count:i++)
        if (n==footnotes_seen-&#62;i) pn=i;
    if (footnote_count==MAX_FOOTNOTES) "** MAX_FOOTNOTES exceeded! **";
    if (pn==0) { pn=footnote_count++; footnotes_seen-&#62;pn=n; }
    print " [",pn+1,"]";
];
[ FootnoteSub n;
    if (noun&#62;footnote_count)
        "No footnote [", noun, "] has been mentioned.";
    if (noun==0) "Footnotes count upward from 1.";
    n=footnotes_seen-&#62;(noun-1);
    print "[",noun,"]  ";
    switch(n)
    {   0: "This is a footnote.";
        1: "D.G.REG.F.D is inscribed around English coins.";
        2: "~Jackdaws love my big sphinx of quartz~, for example.";
    }
];
Verb "footnote" "note" * number              -&#62; Footnote;
</PRE>

And then you can code, for instance,
<PRE>
    print "Her claim to the throne is in every pocket ", (Note) 1,
       ", her portrait in every wallet.";
</PRE>

</TABLE>
<HR>Back to <A HREF="../section27.html#ex68">the exercise in section 27</A><HR>
<SMALL><I>Mechanically translated to HTML from third edition as revised 16 May 1997. Copyright &#169; Graham Nelson 1993, 1994, 1995, 1996, 1997: all rights reserved.</I></SMALL></BODY></HTML>
