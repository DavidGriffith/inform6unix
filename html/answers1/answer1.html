<HTML><HEAD><TITLE>Answer to Exercise 1</TITLE></HEAD>
<BODY BGCOLOR="#FFFFFF">
<TABLE><TR><TD Valign="top"><IMG SRC="../icons/exercise.gif" ALT="??"><TD bgcolor="#FAA89B"><B>ANSWER TO EXERCISE 1</B><TR><TD><TD>
<P>

Change the mushroom's <TT>after</TT> rule to:
<PRE>
       after
       [;  Take: if (self hasnt general)
                 {   give self general;
                    "You pick the mushroom, neatly cleaving its thin stalk.";
                 }
                 "You pick up the slowly-disintegrating mushroom.";
           Drop: "The mushroom drops to the ground, battered slightly.";
       ],
</PRE>

As mentioned above, <TT>general</TT> is a general-purpose attribute, free for the
designer to use.  The 'neatly cleaving' message can only happen once, because
after that the mushroom object must have <TT>general</TT>.  Note that the mushroom
is allowed to call itself <TT>self</TT> instead of <TT>mushroom</TT>.
</TABLE>
<HR>Back to <A HREF="../section7.html#ex1">the exercise in section 7</A><HR>
<SMALL><I>Mechanically translated to HTML from third edition as revised 16 May 1997. Copyright &#169; Graham Nelson 1993, 1994, 1995, 1996, 1997: all rights reserved.</I></SMALL></BODY></HTML>
