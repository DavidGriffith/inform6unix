<HTML><HEAD><TITLE>Answer to Exercise 67</TITLE></HEAD>
<BODY BGCOLOR="#FFFFFF">
<TABLE><TR><TD Valign="top"><IMG SRC="../icons/exercise.gif" ALT="??"><TD bgcolor="#FAA89B"><B>ANSWER TO EXERCISE 67</B><TR><TD><TD>
<P>


<PRE>
Object -&#62; genies_lamp "brass lamp"
  with name "brass" "lamp",
       before
       [; Rub: if (self hasnt general) give self general;
               else give self ~general;
              "A genie appears from the lamp, declaring:^^
               ~Mischief is my sole delight:^
               If white means black, black means white!~^^
               She vanishes away with a vulgar wink.";
       ];
Object -&#62; white_stone "white stone" with name "white" "stone";
Object -&#62; black_stone "black stone" with name "black" "stone";
...
[ BeforeParsing;
   if (genies_lamp hasnt general) return;
   for (wn=1::)
   {   switch(NextWordStopped())
       {   'white': parse-&#62;(wn*2-3) = 'black';
           'black': parse-&#62;(wn*2-3) = 'white';
           -1: return;
       }
   }
];
</PRE>

</TABLE>
<HR>Back to <A HREF="../section26.html#ex67">the exercise in section 26</A><HR>
<SMALL><I>Mechanically translated to HTML from third edition as revised 16 May 1997. Copyright &#169; Graham Nelson 1993, 1994, 1995, 1996, 1997: all rights reserved.</I></SMALL></BODY></HTML>
