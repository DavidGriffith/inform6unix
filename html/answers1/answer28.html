<HTML><HEAD><TITLE>Answer to Exercise 28</TITLE></HEAD>
<BODY BGCOLOR="#FFFFFF">
<TABLE><TR><TD Valign="top"><IMG SRC="../icons/exercise.gif" ALT="??"><TD bgcolor="#FAA89B"><B>ANSWER TO EXERCISE 28</B><TR><TD><TD>
<P>


This is similar to the previous exercises.  One creates an attribute called
<TT>crewmember</TT> and gives it to the crew objects: the <TT>orders</TT> property is
<PRE>
       orders
       [;  Examine:
               if (parent(noun)==0)
                   "~", (name) noun,
                       " is no longer aboard this demonstration game.~";
               "~", (name) noun, " is in ", (name) parent(noun), ".~";
           default: "The computer's only really good for locating the crew.";
       ],
</PRE>

and the <TT>grammar</TT> simply returns <TT>'stc,'</TT> which is defined as
<PRE>
[ Crew i;
  switch(scope_stage)
  {  1: rfalse;
     2: objectloop (i has crewmember) PlaceInScope(i); rtrue;
  }
];
Verb "stc,"   * "where" "is" scope=Crew -&#62; Examine;
</PRE>

An interesting point is that the scope routine doesn't need to do anything
at stage 3 (usually used for printing out errors) because the normal
error-message printing system is never reached.  Something like "computer,
where is Comminder Doto'' causes a <TT>##NotUnderstood</TT> order.
</TABLE>
<HR>Back to <A HREF="../section16.html#ex28">the exercise in section 16</A><HR>
<SMALL><I>Mechanically translated to HTML from third edition as revised 16 May 1997. Copyright &#169; Graham Nelson 1993, 1994, 1995, 1996, 1997: all rights reserved.</I></SMALL></BODY></HTML>
