<HTML><HEAD><TITLE>Section 6: All the Inform error messages</TITLE></HEAD>
<BODY BGCOLOR="#FFFFFF">
<TABLE><P>
<TR><TD Valign="top"><A HREF="contents.html">Contents</A><BR><A HREF="section5.html">Back</A><BR><A HREF="chapter3.html">Forward</A><TD bgcolor="#F5DEB3"><BLOCKQUOTE><H3>6. All the Inform error messages</H3></BLOCKQUOTE><TR><TD><TD>
Three kinds of error are reported by Inform: a fatal error is a breakdown
severe enough to make Inform stop working at once; an error allows Inform
to continue for the time being, but will cause Inform not to finally output
the story file (this is to prevent damaged story files being created); and
a warning means that Inform suspects you may have made a mistake, but will
not take any action itself.
<P>

<BLOCKQUOTE><H4>Fatal errors</H4></BLOCKQUOTE><P>
<P>

<P> 1. <I> Too many errors</I>
<PRE>
Too many errors: giving up
</PRE>

After 100 errors, Inform stops (in case it has been given the wrong source file
altogether, such as a program for a different language altogether).
<P>

<P> 2. <I> Input/output problems</I>
<P> Most commonly, Inform has the wrong filename:
<PRE>
Couldn't open input file &#60;filename&#62;
Couldn't open output file &#60;filename&#62;
</PRE>

(and so on).  More seriously the whole process of file input/output (or "I/O'')
may go wrong for some reason to do with the host computer: for instance, if it
runs out of disc space.  Such errors are rare and look like this:
<PRE>
I/O failure: couldn't read from temporary file 2
</PRE>

Normally you can only have at most 64 files of source code in a single
compilation.  If this limit is passed, Inform generates the error
<PRE>
Program contains too many source files: increase #define MAX_SOURCE_FILES
</PRE>

(This might happen if the same file accidentally <TT>Include</TT>s itself.) Finally,
if a non-existent pathname variable is set in ICL, the error
<PRE>
No such path setting as &#60;name&#62;
</PRE>

is generated.
<P>

<P> 3. <I> Running out of memory</I>
<P> If there is not enough memory even to get started,
the following appear:
<PRE>
Run out of memory allocating &#60;number&#62; bytes for &#60;something&#62;
Run out of memory allocating array of &#60;number&#62;x&#60;number&#62; bytes for &#60;something&#62;
</PRE>

(There are four similar <TT>hallocate</TT> errors unique to the PC 'Quick C' port.)
More often memory will run out in the course of compilation, like so:
<PRE>
The memory setting &#60;setting&#62; (which is &#60;value&#62; at present) has been exceeded.
Try running Inform again with $&#60;setting&#62;=&#60;some-larger-number&#62; on the command line.
</PRE>

(For details of memory settings, see <A HREF="section5.html">Section 5</A> above.)  In a really colossal game,
it is just conceivable that you might hit
<PRE>
One of the memory blocks has exceeded 640K
</PRE>

which would need Inform to be recompiled to get around (but I do not expect
anyone ever to have this trouble).  Much more likely is the error
<PRE>
The story file/module exceeds version &#60;n&#62; limit (&#60;number&#62;K) by &#60;number&#62; bytes
</PRE>

If you're already using version 8, then the story file is full: you might be
able to squeeze more game in using the <TT>Abbreviate</TT> directive, but basically
you're near to the maximum game size possible.  Otherwise, the error suggests
that you might want to change the version from 5 to 8, and the game will be
able to grow at least twice as large again.
<P>

<P>
<BLOCKQUOTE><H4>Errors</H4></BLOCKQUOTE><P>
There are a few conventions.  Anything in double-quotes is a quotation from
your source code; other strings are in single-quotes.  The most common error
by far takes the form
<PRE>
Expected ... but found ...
</PRE>

(of which there are over 100 kinds): most are straightforward to sort out,
but a few take some practice.  One of the trickiest things to diagnose is
a loop statement having been misspelt.  For example, the lines
<PRE>
    pritn "Hello";
    While (x==y) print "x is still y^";
</PRE>

produce one error each:
<PRE>
line 1: Error: Expected assignment or statement but found pritn
line 2: Error: Expected ';' but found print
</PRE>

The first is fine.  The second is odd: a human immediately sees that
<TT>While</TT> is meant to be a <TT>while</TT> loop, but Inform is not able to make
textual guesses like this.  Instead Inform decides that the code intended was
<PRE>
    While (x==y); print "x is still y^";
</PRE>

with <TT>While</TT> assumed to be the name of a function which hasn't been declared yet.
Thus, Inform thinks the mistake is that the <TT>;</TT> has been missed out.
<P>

In that example, Inform repaired the situation and was able to carry on as normal
in subsequent lines.  But it sometimes happens that a whole cascade of errors
is thrown up, in code which the user is fairly sure must be nearly right.  What
has happened is that one syntax mistake threw Inform off the right track, so that
it continued not to know where it was for many lines in a row.  Look at the first
error message, fix that and then try again.
<P>

<P> 1. <I> Reading in the source-code</I>
<PRE>
Illegal character found in source: (char) &#60;hexadecimal number&#62;
Unrecognised combination in source: &#60;text&#62;
Alphabetic character expected after &#60;text&#62;
No such accented character as &#60;text&#62;
Name exceeds the maximum length of &#60;number&#62; characters: &#60;name&#62;
The following name is reserved by Inform for its own use as a routine name;
    you can use it as a routine name yourself (to override the standard
    definition) but cannot use it for anything else: &#60;name&#62;
The obsolete '#w$word' construct has been removed
Binary number expected after '$$'
Hexadecimal number expected after '$'
Too much text for one pair of 's to hold
Too much text for one pair of "s to hold
</PRE>

Note that, for instance, a <TT>^</TT> character is illegal in ordinary source
code (producing the first error above), but is allowed within quotation
marks.
<P>

<P> 2. <I> Variables and arrays</I>
<PRE>
Variable must be defined before use: &#60;name&#62;
'=' applied to undeclared variable
Local variable defined twice: &#60;name&#62;
All 236 global variables already declared
No array size or initial values given
Array sizes must be known now, not externally defined
An array must have a positive number of entries
A 'string' array can have at most 256 entries
Entries in byte arrays and strings must be known constants
Missing ';' to end the initial array values before "[" or "]"
</PRE>

The limit of 236 global variables is absolute: a program even approaching this
limit should probably be making more use of object properties to store its
information.  "Entries... must be known constants'' is a restriction on what
byte or string arrays may contain: basically, numbers or characters; defined
constants (such as object names) may only be used if they have already been
defined.  This restriction does not apply to the more normally used word and
table arrays.
<P>

<P> 3. <I> Routines and function calls</I>
<PRE>
No 'Main' routine has been defined
It is illegal to nest routines using '#['
A routine can have at most 15 local variables
Argument to system function missing
System function given with too many arguments
Only constants can be used as possible 'random' results
A function may be called with at most 7 arguments
Duplicate definition of label: &#60;name&#62;
</PRE>

Note that the system function <TT>random</TT>, when it takes more than one
argument, can only take constant arguments (this enables the possibilities
to be stored efficiently within the program).  Thus
<TT>random(random(10), location)</TT> will produce an error.  To make a
random choice between non-constant values, write a <TT>switch</TT> statement instead.
<P>

<P> 4. <I> Expressions and arithmetic</I>
<PRE>
Missing operator: inserting '+'
Evaluating this has no effect: &#60;operator&#62;
'=' applied to &#60;operator&#62;
Brackets mandatory to clarify order of: &#60;operator&#62;
Missing operand for &#60;operator&#62;
Missing operand after &#60;something&#62;
Found '(' without matching ')'
No expression between brackets '(' and ')'
'or' used improperly
Division of constant by zero
Label name used as value: &#60;name&#62;
System function name used as value: &#60;name&#62;
No such constant as &#60;name&#62;
</PRE>

"Operators'' include not only addition <TT>+</TT>, multiplication <TT>*</TT> and so on,
but also more exotic Inform constructs like <TT>--&#62;</TT> ("array entry'') and
<TT>.</TT> ("property value'').  An example of an operator where "Evaluating
this has no effect'' is in the statement
<PRE>
    34 * score;
</PRE>

where the multiplication is a waste of time, since nothing is done with the
result.  "<I>=</I> applied to operator'' means something like
<PRE>
    (4 / fish) = 7;
</PRE>

which literally means "set $4/$<TT>fish</TT> to 7'' and results in the error
"<I>=</I> applied to <I>/</I>''.
<P>

"Brackets mandatory to clarify order'' means that an ambiguous expression
like
<PRE>
    frogs == ducks == geese
</PRE>

requires clarification: which <TT>==</TT> is to be worked out first?
<P>

<P> 5. <I> Miscellaneous errors in statements</I>
<PRE>
'do' without matching 'until'
'default' without matching 'switch'
'else' without matching 'if'
'until' without matching 'do'
'break' can only be used in a loop or 'switch' block
At most 32 values can be given in a single 'switch' case
Multiple 'default' clauses defined in same 'switch'
'default' must be the last 'switch' case
'continue' can only be used in a loop block
A reserved word was used as a print specification: &#60;name&#62;
No lines of text given for 'box' display
In Version 3 no status-line drawing routine can be given
The 'style' statement cannot be used for Version 3 games
</PRE>

For instance, <TT>print (fixed) X</TT> gives the "reserved word in print
specification'' error because <TT>fixed</TT> is a reserved statement internal
keyword.  Anyway, call such a printing routine something else.
<P>

<P> 6. <I> Object and class declarations</I>
<PRE>
Two textual short names given for only one object
The syntax '-&#62;' is only used as an alternative to 'Nearby'
Use of '-&#62;' (or 'Nearby') clashes with giving a parent
'-&#62;' (or 'Nearby') fails because there is no previous object
'-&#62; -&#62; ...' fails because no previous object is deep enough
Two commas ',' in a row in object/class definition
Object/class definition finishes with ','
Not an individual property name: &#60;name&#62;
No such property name as &#60;name&#62;
Not a (common) property name: &#60;name&#62;
Property should be declared in 'with', not 'private': &#60;name&#62;
Limit (of 32 values) exceeded for property &#60;name&#62;
Duplicate-number not known at compile time
The number of duplicates must be 1 to 10000
</PRE>

Note that "common properties'' (those provided by the library,
or those declared with <TT>Property</TT>) cannot be made <TT>private</TT>.
All other properties are called "individual''.  The "number
of duplicates'' referred to is the number of duplicate instances
to make for a new class, and it needs to be a number Inform can
determine now, not later on in the source code (or in another
module altogether).  The limit 10000 is arbitrary and imposed to
help prevent accidents.
<P>

<P> 7. <I> Grammar</I>
<PRE>
Two different verb definitions refer to &#60;name&#62;
There is no previous grammar for the verb &#60;name&#62;
There is no action routine called &#60;name&#62;
No such grammar token as &#60;text&#62;
'=' is only legal here as 'noun=Routine'
Not an action routine: &#60;name&#62;
This is a fake action, not a real one: &#60;name&#62;
Too many lines of grammar for verb: increase #define MAX_LINES_PER_VERB
</PRE>

At present verbs are limited to 20 grammar lines each, though this
would be easy to increase.  (A grammar of this kind of length
can probably be written more efficiently using general parsing
routines, however.)
<P>

<P> 8. <I> Conditional compilation</I>
<PRE>
'Ifnot' without matching 'If...'
Second 'Ifnot' for the same 'If...' condition
End of file reached in code 'If...'d out
This condition can't be determined
</PRE>

"Condition can't be determined'' only arises for <TT>Iftrue</TT>
and <TT>Iffalse</TT>, which make numerical or logical tests: for instance,
<PRE>
    Iftrue #strings_offset==$4a50;
</PRE>

can't be determined because even though both quantities are
constants, the <TT>#strings_offset</TT> will not be known until compilation
is finished.  On the other hand, for example,
<PRE>
    Iftrue #version_number&#62;5;
</PRE>

can be determined, as the version number was set before compilation.
<P>

<P> 9. <I> Miscellaneous errors in directives</I>
<PRE>
You can't 'Replace' a system function already used
Must specify 0 to 3 local variables for 'Stub' routine
A 'Switches' directive must come before the first constant definition
All 48 attributes already declared
All 62 properties already declared
'alias' incompatible with 'additive'
The serial number must be a 6-digit date in double-quotes
A definite value must be given as release number
A definite value must be given as version number
The version number must be in the range 3 to 8
All 64 abbreviations already declared
All abbreviations must be declared together
It's not worth abbreviating &#60;text&#62;
'Default' cannot be used in -M (Module) mode
'LowString' cannot be used in -M (Module) mode
</PRE>
<P>

<P> 10. <I> Linking and importing</I>
<PRE>
File isn't a module: &#60;name&#62;
Link: action name clash with &#60;name&#62;
Link: program and module give differing values of &#60;name&#62;
Link: module (wrongly) declared this a variable: &#60;name&#62;
Link: this attribute is undeclared within module: &#60;name&#62;
Link: this property is undeclared within module: &#60;name&#62;
Link: this was referred to as a constant, but isn't: &#60;name&#62;
Link: &#60;type&#62; &#60;name&#62; in both program and module
Link: &#60;name&#62; has type &#60;type&#62; in program but type &#60;type&#62; in module
Link: failed because too many extra global variables needed
Link: module (wrongly) declared this a variable: &#60;name&#62;
Link: this attribute is undeclared within module: &#60;name&#62;
Link: this property is undeclared within module: &#60;name&#62;
Link: this was referred to as a constant, but isn't: &#60;name&#62;
'Import' cannot import things of this type: &#60;name&#62;
'Import' can only be used in -M (Module) mode
</PRE>

Note that the errors beginning "Link:'' are exactly those occurring
during the process of linking a module into the current compilation.
They mostly arise when the same name is used for one purpose in the
current program, and a different one in the module.
<P>

<P> 11. <I> Assembly language</I>
<PRE>
Label out of range for branch
Opcode specification should have form "VAR:102"
Unknown flag: options are B (branch), S (store),
    T (text), I (indirect addressing), F** (set this Flags 2 bit)
Only one '-&#62;' store destination can be given
Only one '?' branch destination can be given
No assembly instruction may have more than 8 operands
This opcode does not use indirect addressing
Indirect addressing can only be used on the first operand
Store destination (the last operand) is not a variable
Opcode unavailable in this Z-machine version: &#60;name&#62;
Assembly mistake: syntax is &#60;syntax&#62;
Routine contains no such label as &#60;name&#62;
For this operand type, opcode number must be in range &#60;range&#62;
</PRE>
<P>

<P> 12. <I> None of the above</I>
<P>  If you should see an incomprehensible error
message beginning with <TT>***</TT>, then Inform itself has malfunctioned.
This is not meant to happen, but it's conceivable that it might occur
in the process of linking in a module which has been damaged in some way.
<P>

Finally, error messages can also be produced from within the program
(deliberately) using <TT>Message</TT>.  It may be that a mysterious message
is being caused by an included file written by someone other than yourself.
<P>

<P>
<BLOCKQUOTE><H4>Warnings</H4></BLOCKQUOTE><P>
<P> 1. <I> Questionable practices</I>
<PRE>
This statement can never be reached
</PRE>

There is no way that the statement being compiled can ever be executed when the
game is played.  Here is an obvious example:
<PRE>
    return; print "Goodbye!";
</PRE>

where the <TT>print</TT> statement can never be reached, because a <TT>return</TT> must just
have happened.  Beginners often run into this example:
<PRE>
    "You pick up the gauntlet."; score=score+1; return;
</PRE>

Here the <TT>score=score+1</TT> statement is never reached because the text, given on
its own, means "print this, then print a new-line, then return from the current
routine''.  The intended behaviour needs something like
<PRE>
    print "You pick up the gauntlet.^"; score=score+1; return;
</PRE>
<P>
<P>
<PRE>
&#60;type&#62; &#60;name&#62; declared but not used
</PRE>

For example, a <TT>Global</TT> directive was used to create a variable, which was then
never used in the program.
<PRE>
'=' used as condition: '==' intended?
</PRE>

Although a line like
<PRE>
    if (x = 5) print "My name is Alan Partridge.";
</PRE>
<P>

is legal, it's probably a mistake: <TT>x=5</TT> sets <TT>x</TT> to 5 and results in 5, so the
condition is always true.  Presumably it was a mistype for <TT>x==5</TT> meaning "test
<TT>x</TT> to see if it's equal to 5''.
<PRE>
Unlike C, Inform uses ':' to divide parts of a 'for' loop
    specification: replacing ';' with ':'
</PRE>

Programmers used to the C language will now and then habitually type a <TT>for</TT>
loop in the form
<PRE>
    for (i=0; i&#60;10; i++) ...
</PRE>
<P>

but Inform needs colons, not semicolons: however, as it can see what was intended,
it makes the correction automatically and issues only a warning.
<PRE>
Missing ','? Property data seems to contain the property name &#60;name&#62;
</PRE>

The following, part of an object declaration, is legal but unlikely:
<PRE>
    with found_in MarbleHall
         short_name "conch shell", name "conch" "shell",
</PRE>

As written, the <TT>found_in</TT> property has a list of three values: <TT>MarbleHall</TT>,
<TT>short_name</TT> and <TT>"conch shell"</TT>.  <TT>short_name</TT> throws up the warning because
Inform suspects that a comma was missed out and the programmer intended
<PRE>
    with found_in MarbleHall,
         short_name "conch shell", name "conch" "shell",
</PRE>
<PRE>
This is not a declared Attribute: &#60;name&#62;
</PRE>

Similarly, suppose that a game contains a <TT>pen</TT>.  Then the following <TT>give</TT>
statement is dubious but legal:
<PRE>
    give MarbleDoorway pen;
</PRE>

The warning is caused because it's far more likely to be a misprint for
<PRE>
    give MarbleDoorway open;
</PRE>
<PRE>
Without bracketing, the minus sign '-' is ambiguous
</PRE>

For example,
<PRE>
    Array Doubtful --&#62; 50 10 -20 56;
</PRE>
<P>

because Inform is not sure whether this contains three entries, the middle one
being $10-20=-10$, or four.  It guesses four, but suggests brackets to clarify
the situation.
<PRE>
Array entry too large for a byte
</PRE>

Byte <TT>-&#62;</TT> and <TT>string</TT> arrays can only hold numbers in the range 0 to 255.
If a larger entry is supplied, only the remainder mod 256 is stored, and this
warning is issued.
<PRE>
Verb disagrees with previous verbs: &#60;verb&#62;
</PRE>

The <TT>Extend only</TT> directive is used to cleave off a set of synonymous English
verbs and make them into a new Inform verb.  For instance, ordinarily "take'',
"get'', "carry'' and "hold'' are one single Inform verb, but this directive
could split off "carry'' and "get'' from the other two.  The warning would
arise if one tried to split off "take'' and "drop'' together, which come from
different original Inform verbs. (It's still conceivably usable, which is why
it's a warning, not an error.)
<PRE>
This does not set the final game's statusline
</PRE>

An attempt to choose, e.g., <TT>Statusline time</TT> within a module, having no effect
on the program into which the module will one day be linked.  Futile.
<PRE>
This module has a more advanced format than this release of the
    Inform 6 compiler knows about: it may not link in correctly
</PRE>
<P>

<P> 2. <I> Obsolete usages</I>
<PRE>
more modern to use 'Array', not 'Global'
use '-&#62;' instead of 'data'
use '-&#62;' instead of 'initial'
use '-&#62;' instead of 'initstr'
use 'word' as a constant dictionary address
'#a$Act' is now superceded by '##Act'
'#n$word' is now superceded by ''word''
'#r$Routine' can now be written just 'Routine'
all properties are now automatically 'long'
use the ^ character for the apostrophe in &#60;dictionary word&#62;
</PRE>

These all occur if Inform compiles a syntax which was correct under Inform
5 (or earlier) but has now been withdrawn in favour of something better.
<P>

<P><TR><TD Valign="top"><IMG SRC="icons/ddbend.gif" ALT="/\/\"><TD bgcolor="#EEEEEE"><SMALL> No Inform library file (or any other file marked <TT>System_file</TT>)
produces warning messages.  It may contain many declared but unused routines,
or may contain obsolete usages for the sake of backward
compatibility.
</TABLE>
<HR><A HREF="contents.html">Contents</A> / <A HREF="section5.html">Back</A> / <A HREF="chapter3.html">Forward</A> <BR>
<A HREF="chapter1.html">Chapter I</A> / <A HREF="chapter2.html">Chapter II</A> / <A HREF="chapter3.html">Chapter III</A> / <A HREF="chapter4.html">Chapter IV</A> / <A HREF="chapter5.html">Chapter V</A> / <A HREF="chapter6.html">Chapter VI</A> / <A HREF="chapterA.html">Appendix</A><HR><SMALL><I>Mechanically translated to HTML from third edition as revised 16 May 1997. Copyright &#169; Graham Nelson 1993, 1994, 1995, 1996, 1997: all rights reserved.</I></SMALL></BODY></HTML>
